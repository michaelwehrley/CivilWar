<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd">
<html>
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
    <title>The Civil War Project</title>
  </head>

  <body>
    <h1 id="page-header"></h1>
    <svg id="united-states" style="width: 100%" height="650" xmlns="http://www.w3.org/2000/svg"></svg>
    <input id="date-slider" type="range" min="0" max="365" value="0" step="1" style="width: 100%">
  </body>

  <script src="./assets/javascripts/moment.min.js" type="text/javascript"></script>
  <script src="./assets/javascripts/application.js" type="text/javascript"></script>
  <script src="./assets/javascripts/date.js" type="text/javascript"></script>
  <script src="./assets/javascripts/header.js" type="text/javascript"></script>
  <script src="./assets/javascripts/states.js" type="text/javascript"></script>
  <script src="./assets/javascripts/capitals.js" type="text/javascript"></script>
  <script src="./assets/javascripts/slider.js" type="text/javascript"></script>
  <script src="https://d3js.org/d3.v3.min.js"></script>
  <script src="https://d3js.org/topojson.v1.min.js"></script>
  <script type="text/javascript">
    var slider = document.getElementById("date-slider");

    CivilWar.states.build();
    CivilWar.states.listenTo(slider);
    CivilWar.capitals.build();
    CivilWar.capitals.listenTo(slider);
    CivilWar.header.update();
    CivilWar.header.listenTo(slider);
    CivilWar.slider.emit();

    var paths = document.getElementsByTagName("path");
    
    paths = [].slice.call(paths, 0);
    paths.forEach(function(path) {
      path.addEventListener('click', function(event) {
        var svg = document.getElementsByTagName('svg')[0];
        svg.innerHTML = '<g transform="scale(45)"><path transform="scale(45)" d="'+path.getAttribute('d')+'" fill="red"><path></g>';
      });
    });
  </script>
</html>